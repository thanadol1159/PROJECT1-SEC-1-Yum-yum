<script setup>
import SystemUiconsSettings from "./components/icons/SystemUiconsSettings.vue";
import { ref } from 'vue'
// import { useEventListener } from '@vueuse/core'



let onOff = ref(1)
function openNav() {
  document.getElementById("slideBar").style.width = "384px";
  document.getElementById("slideBar").style.display = "block";
}

function closeNav() {
  document.getElementById("slideBar").style.width = "0";
}

const currentVolume = document.querySelector("#volume");
// let track = document.querySelector("#track");
let audio = document.createElement("audio");

// currentVolume.addEventListener("change",changeVolume);
// currentVolume.useEventListener(() => {
//   track.volume = currentVolume.value / 100;
// })
function changeVolume(){
    track.volume = currentVolume.value / 100;
}
// changeVolume()

function onMusic() { 
  song.play();
  onOff.value = 1
} 
  
function offMusic() { 
  song.pause();
  onOff.value = 0
} 

</script>

<template>
  <div id="background" class="bg-[url('../src/assets/img/bg.png')] h-screen bg-cover bg-no-repeat z-0">  
       <!-- navbar -->
    <div class="slide-bar">  
      <div id="slideBar" class="hidden w-96 fixed text-white z-50 h-screen top-0 right-0 bg-black overflow-hidden float-right ease-in duration-300">
        <!-- bar -->
        <div>
          <ul>
           <li class="pb-16 mt-3"><a class="absolute left-5 text-5xl hover:text-slate-400 " href="javascript:void(0)" v-on:click="closeNav()">×</a></li>
           <li><img class="w-24 m-auto" src="../src/assets/img/back_card.png"></li>
           <li><a class="pt-8 text-center text-6xl text-slate-200 block hover:text-zinc-400" href="#">RESUME</a></li>
           <li><a class="pt-8 text-center text-6xl text-slate-200 block hover:text-zinc-400" href="#">RULE</a></li>
           <li><a class="pt-8 text-center text-6xl text-slate-200 block hover:text-zinc-400" href="#">QUIT</a></li>
        </ul> 
        </div>
        <!-- play music -->
        <div class="flex pr-2 pt-36 justify-center flex-row" >
          <p class="text-2xl pr-3 -top-1.5" >music</p>
          <audio class="hidden" id="song" src="../src/song/‘Yours’.mp3" type="audio/ogg"></audio>

          <input type="range" min="1" max="100" value="50" id="volume" 
         />

          <label :class="onOff === 1 ? 'text-orange-400' : ' text-white'"
           class="text-2xl pl-5 -top-1.5 cursor-pointer "  for="on">on</label>
          <input type="text" class="hidden" id="on" v-on:click="onMusic()"  checked v-model="onOff"/>

          <label :class="onOff === 0 ? 'text-orange-400' : ' text-white'"
           class="text-2xl pl-5 -top-1.5 cursor-pointer" for="off">off</label>
          <input type="text" class="hidden" id="off" v-on:click="offMusic()" checked v-model="onOff"/>
        </div>
      </div>
      <button id="setting" class="block text-7xl cursor-pointer text-white hover:text-slate-400 float-right right-3 top-3" v-on:click="openNav()"><SystemUiconsSettings /></button>
    </div>
    
  </div>
</template>

<style scoped></style>
